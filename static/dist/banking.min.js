import{setActiveLink,handleSidebar}from"./utils.min.js";!function(){setActiveLink(),handleSidebar();document.querySelector("#connect-bank-account").addEventListener("click",(async()=>{try{const t=await fetch("/plaid/link-token",{method:"GET"}),n=(await t.json()).linkToken;if(200===t.status){const t=Plaid.create({token:n,onSuccess:async(t,n)=>{console.log("Account metadata: ",n.accounts),console.log("Institution metadata: ",n.institution);try{const o=await fetch("/plaid/access-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:t,accounts:n.accounts,institution:n.institution})}),c=await o.json();console.log(c)}catch(t){console.log(t)}},onLoad:()=>{},onExit:(t,n)=>{},onEvent:(t,n)=>{}});t.open()}}catch(t){console.log(t)}}))}();